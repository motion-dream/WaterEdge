<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"> 
	<title>Student SCORE</title>
    <style type="text/css"> 
        table, td{ 
        font:100% '微软雅黑'; 
        } 
        table{width:80%;border-collapse:collapse; margin:0 0 0 100px} 
        th, td{text-align:center;border:1px solid #fff;} 
        th{background:#328aa4} 
        td{background:#e5f1f4;} 
       </style> 
	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">  
	<script src="https://cdn.staticfile.org/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>

        function select1(){
            var student1=$("#s1").html();
            var table=document.getElementById("table");
            var rowNum = table.rows.length;
            for (i=1;i<rowNum;i++)
            {
                table.deleteRow(i);
                rowNum=rowNum-1;
                i=i-1;
            }
            $.ajax({
				url: "results.json",//json文件位置，文件名
				type: "GET",//请求方式为get
				dataType: "json", //返回数据格式为json
				success: function(data) {//请求成功完成后要执行的方法 
                    var gpa=0;
                    for(var i=0;i<data.length;i++){
                        if(data[i].name==student1){
                            var row=table.insertRow(table.rows.length);
                            var c1=row.insertCell(0);
                            c1.innerHTML=data[i].name;
                            var c2=row.insertCell(1);
                            c2.innerHTML=data[i].course;
                            var c3=row.insertCell(2);
                            c3.innerHTML=data[i].semester;
                            var c4=row.insertCell(3);
                            c4.innerHTML=data[i].results;
                            var c5=row.insertCell(4);
                            c5.innerHTML=data[i].GPA;
                            gpa+=data[i].GPA;
                        }    
                    }
                    document.getElementById("gpa").innerText=gpa;
				}
			})
        }
        function select2(){
            var student1=$("#s2").html();
            var table=document.getElementById("table");
            var rowNum = table.rows.length;
            for (i=1;i<rowNum;i++)
            {
                table.deleteRow(i);
                rowNum=rowNum-1;
                i=i-1;
            }
            $.ajax({
				url: "results.json",//json文件位置，文件名
				type: "GET",//请求方式为get
				dataType: "json", //返回数据格式为json
				success: function(data) {//请求成功完成后要执行的方法 
                    var gpa=0;
                    for(var i=0;i<data.length;i++){
                        
                        if(data[i].name==student1){
                            var row=table.insertRow(table.rows.length);
                            var c1=row.insertCell(0);
                            c1.innerHTML=data[i].name;
                            var c2=row.insertCell(1);
                            c2.innerHTML=data[i].course;
                            var c3=row.insertCell(2);
                            c3.innerHTML=data[i].semester;
                            var c4=row.insertCell(3);
                            c4.innerHTML=data[i].results;
                            var c5=row.insertCell(4);
                            c5.innerHTML=data[i].GPA;
                            gpa+=c5.innerHTML=data[i].GPA;
                        }    
                    }
                    document.getElementById("gpa").innerText=gpa;
				}
			})
        }
    </script>
</head>
<body>
    <div class="dropdown">
        <button type="button" class="btn dropdown-toggle" id="dropdownMenu1" 
                data-toggle="dropdown">
            Student
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
            <li role="presentation">
                <a id="s1" role="menuitem" tabindex="-1" onclick="select1()" href="#">Zhenxv Wang</a>
            </li>
            <li role="presentation">
                <a id="s2" role="menuitem" tabindex="-1" onclick="select2()" href="#">Mingming Jia</a>
            </li>
        </ul>
        <button type="button" class="btn dropdown-toggle" id="dropdownMenu1" 
        data-toggle="dropdown">
    Semester 
    <span class="caret"></span>
    </button>
     <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
    <li role="presentation">
        <a id="s1" role="menuitem" tabindex="-1" onclick="select1()" href="#">Zhenxv Wang</a>
    </li>
    <li role="presentation">
        <a id="s2" role="menuitem" tabindex="-1" onclick="select2()" href="#">Mingming Jia</a>
    </li>
    </ul>
    </div>
    <div>
        <table class="table" id="table">
            <caption>Student SCORE</caption>
            <thead>
               <tr>
                  <th>Name<th/>
                  <th>course</th>
                  <th>semester</th>
                  <th>grade</th>
                  <th>GPA</th>
               </tr>
            </thead>
            <tbody></tbody>
         </table>
    </div>
    <div>
        <h4 style="text-align: center;">Total Gpa : <span id="gpa"></span><h4>
    </div>
<script>
$(function () {
    var table=document.getElementById("table");
    $.ajax({
                
				url: "results.json",//json文件位置，文件名
				type: "GET",//请求方式为get
				dataType: "json", //返回数据格式为json
				success: function(data) {//请求成功完成后要执行的方法 
                    var gpa=0;
                    for(var i=0;i<data.length;i++){
                            var row=table.insertRow(table.rows.length);
                            var c1=row.insertCell(0);
                            c1.innerHTML=data[i].name;
                            var c2=row.insertCell(1);
                            c2.innerHTML=data[i].course;
                            var c3=row.insertCell(2);
                            c3.innerHTML=data[i].semester;
                            var c4=row.insertCell(3);
                            c4.innerHTML=data[i].results;
                            var c5=row.insertCell(4);
                            c5.innerHTML=data[i].GPA;
                            gpa+=data[i].GPA;
                    }
                    document.getElementById("gpa").innerText=gpa;
				}
			})
});
</script>

</body>
</html>